SNP 500
=======

This document is an HTM file generated by the markdown file availible at
the following link:
<https://github.com/Jonathan-Knowles/MSDS6303Assignment11>.

Install required packages and load them.
----------------------------------------

### Install Packages

    install.packages("tseries",repos='http://cran.us.r-project.org')

    ## Installing package into 'C:/Users/Jonathan/Documents/R/win-library/3.3'
    ## (as 'lib' is unspecified)

    ## package 'tseries' successfully unpacked and MD5 sums checked
    ## 
    ## The downloaded binary packages are in
    ##  C:\Users\Jonathan\AppData\Local\Temp\Rtmp0IqS34\downloaded_packages

### Load Packages

    library(tseries)

    ## Warning: package 'tseries' was built under R version 3.3.3

Gather Data
-----------

    SNPdata <- get.hist.quote('^gspc',quote="Close")

Calculate the Log returns.
--------------------------

    SNPret <- log(lag(SNPdata)) - log(SNPdata)

Calculate the volatility measure.
---------------------------------

    SNPvol <- sd(SNPret) * sqrt(250) * 100

Create function determining volatility.
---------------------------------------

    getVol <- function(d, logrets) {
      var = 0
      lam = 0
      varlist <- c()
      
      for (r in logrets) {
        lam = lam*(1 - 1/d) + 1
        var = (1 - 1/lam)*var + (1/lam)*r^2
        varlist <- c(varlist, var)
      }
      
      sqrt(varlist)
    }

Calculate the volatility measure of the entire series using 3 different decay factors.
--------------------------------------------------------------------------------------

### Factor of 10

    volest <- getVol(10, SNPret)

### Factor of 30

    volest2 <- getVol(30, SNPret)

### Factor of 100

    volest3 <- getVol(100, SNPret)

Plotting the data.
------------------

    plot(volest,type="l")
    lines(volest2, type="l",col="red")
    lines(volest3, type="l",col="blue")

![](MSDS6306Assignment11/Plot-1.png)

    print.eval = TRUE
